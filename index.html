<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>DG Pay Gateway</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
    margin:0;
    font-family:Arial;
    background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    color:white;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
}
.box{
    background:#111;
    padding:25px;
    border-radius:12px;
    width:95%;
    max-width:420px;
    text-align:center;
    box-shadow:0 0 25px rgba(0,255,255,.4);
}
h2{color:#00ffff}
input{
    width:100%;
    padding:12px;
    border:none;
    border-radius:8px;
    margin-top:10px;
    font-size:16px;
}
button{
    margin-top:15px;
    width:100%;
    padding:12px;
    border:none;
    border-radius:8px;
    background:#00ffff;
    font-weight:bold;
    cursor:pointer;
}
#qrBox{
    margin-top:20px;
    display:none;
}
img{
    width:220px;
    border-radius:10px;
}
.loader{
    display:none;
    margin-top:10px;
}
</style>
</head>
<body>

<div class="box">
<h2>DG Payment Gateway</h2>

<input type="number" id="amount" placeholder="Enter Amount">

<button onclick="createPayment()">Pay Now</button>

<div class="loader" id="loader">Processing...</div>

<div id="qrBox">
<p>Scan & Pay</p>
<img id="qrImg">
</div>

</div>

<script>
const API_URL = "https://api.zapupi.com/api/create-order";

// ⚠️ APNI NEW SAFE KEYS YAHA PASTE KARO
const TOKEN_KEY = "4ef184bc249f2d98d7a57adc9afd903c";
const SECRET_KEY = "620edcfaafd0e3751a09c29ebc6a8c3f";

function createPayment(){

let amount = document.getElementById("amount").value;

if(amount < 1){
alert("Enter valid amount");
return;
}

document.getElementById("loader").style.display="block";

let orderId = "DG"+Date.now();

let formData = new URLSearchParams();
formData.append("token_key",TOKEN_KEY);
formData.append("secret_key",SECRET_KEY);
formData.append("amount",amount);
formData.append("order_id",orderId);

fetch(API_URL,{
method:"POST",
headers:{
"Content-Type":"application/x-www-form-urlencoded"
},
body:formData
})
.then(res=>res.json())
.then(data=>{
document.getElementById("loader").style.display="none";

if(data.status=="success"){

let qr = data.qr || data.qr_url || data.payment_qr;

document.getElementById("qrImg").src = qr;
document.getElementById("qrBox").style.display="block";

}else{
alert("Failed : "+data.message);
}
})
.catch(err=>{
document.getElementById("loader").style.display="none";
alert("Error");
console.log(err);
})

}
</script>

</body>
</html>
